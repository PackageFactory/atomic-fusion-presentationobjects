<div align="center">
    <a href="./02_PresentationObjectFactories.md">&lt; 3. Slots</a>
    &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
    <a href="./00_Index.md">Index</a>
    &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
    <a href="./04_Kickstarter.md">5. Kickstarter &gt;</a>
</div>

---

# 4. Integration Recipes

This article discusses various helper APIs you can use for integrating content via PresentationObject factories.

## Find nodes with a filter string

PresentationObject factories provide the protected method `findChildNodesByNodeTypeFilterString` as a shortcut for filtering the children of a given node.

### `findChildNodesByNodeTypeFilterString` Parameters

| name                  | type                                                                                                                                                                                | description                                                               | default value |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|---------------|
| $parentNode           | [`TraversableNodeInterface`](https://github.com/neos/neos-development-collection/blob/master/Neos.ContentRepository/Classes/Domain/Projection/Content/TraversableNodeInterface.php) | The node whose children are to be filtered                                |               |
| $nodeTypeFilterString | `string`                                                                                                                                                                            | A node type filter string (e.g. `Neos.Neos:Document,!Neos.Neos:Shortcut`) |               |

## The UriService

PresentationObject factories come with a built-in UriService that can be accessed via `$this->uriService`. This service covers all your need for creating URIs to nodes, assets and the like.

The following methods are available:

### `getNodeUri`

Generates the URI for a given document node.

#### Parameters

| name | type | description | default value |
|------|------|-------------|---------------|
| $documentNode     | [`TraversableNodeInterface`](https://github.com/neos/neos-development-collection/blob/master/Neos.ContentRepository/Classes/Domain/Projection/Content/TraversableNodeInterface.php) | The node for which a URI is to be generated | |
| $absolute | `boolean` | If true, an absolute URI will be generated | `false` |

### `getResourceUri`

Generates an URI for a static resource.

#### Parameters

| name | type | description | default value |
|------|------|-------------|---------------|
| $packageKey | string | The package key for the package containing the static resource | |
| $resourcePath | string | The path to the static resource within the package relative to `Resources/Public` | |

### `getAssetUri`

Generates the URI for a given asset.

#### Parameters

| name | type | description | default value |
|------|------|-------------|---------------|
| $asset | [`AssetInterface`](https://github.com/neos/neos-development-collection/blob/master/Neos.Media/Classes/Domain/Model/AssetInterface.php) | The asset for which a URI is to be generated | |

### `getDummyImageBaseUri`

Provides a URI to a dummy image generated by [Sitegeist.Kaleidoscope](https://github.com/sitegeist/Sitegeist.Kaleidoscope).

### `getControllerContext`

Gives you access to a [ControllerContext](https://github.com/neos/flow-development/blob/master/Neos.Flow/Classes/Mvc/Controller/ControllerContext.php), which allows you to generate arbitrary internal URIs with the [UriBuilder](https://github.com/neos/flow-development-collection/blob/master/Neos.Flow/Classes/Mvc/Routing/UriBuilder.php).

### `resolveLinkUri`

Resolves URIs with the special `asset://` and `node://` protocols.

#### Parameters

| name | type | description | default value |
|------|------|-------------|---------------|
| $rawLinkUri | string | The string containing the URI | |
| $subgraph | [ContentContext](https://github.com/neos/neos-development-collection/blob/master/Neos.Neos/Classes/Domain/Service/ContentContext.php) | A reference content context required to resolve `node://` URIs | |

---

<div align="center">
    <a href="./02_PresentationObjectFactories.md">&lt; 3. Slots</a>
    &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
    <a href="./00_Index.md">Index</a>
    &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
    <a href="./04_Kickstarter.md">5. Kickstarter &gt;</a>
</div>
